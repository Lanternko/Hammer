/* styles/z-index.css - Z-Index 層級管理 */

/* 
🔧 統一的 Z-Index 層級系統
確保所有元素都在正確的層級上，避免遮擋問題
*/

/* === 基礎層 (0-99) === */
.bg-particles { 
    z-index: 0; 
}

.combat-arena { 
    z-index: 1; 
}

/* === UI 基礎層 (100-199) === */
.stats-panel { 
    z-index: 100; 
}

.combat-log { 
    z-index: 150; 
}

/* 🔧 修復：確保效果面板不被遮住 */
#buffPanel { 
    z-index: 150; 
}

/* === 控制面板層 (200-299) === */
#speedControl { 
    z-index: 200; 
}

/* === 遊戲內浮動元素 (1000-1099) === */
.damage-indicator,
.floating-damage { 
    z-index: 1000; 
}

.health-container,
.character-card { 
    position: relative; /* 為浮動傷害提供定位上下文 */
}

/* === 暫停相關覆蓋層 (1000-1099) === */
#pauseOverlay { 
    z-index: 1000; 
}

/* === 遊戲流程覆蓋層 (1000-1099) === */
#levelUpOverlay { 
    z-index: 1000; 
}

#eventOverlay { 
    z-index: 1000; 
}

/* === 戰鬥結果層 (1500-1599) === */
.battle-results-overlay { 
    z-index: 1500; 
}

/* === 最高優先級覆蓋層 (2000+) === */
.death-screen,
#deathSummaryOverlay { 
    z-index: 2000; 
}

/* 里程碑徽章獎勵 */
.milestone-badge-overlay {
    z-index: 2100;
}

/* === 系統級別覆蓋層 (9000+) === */
.loading-screen { 
    z-index: 9999; 
}

/* 錯誤對話框和系統通知 */
.error-dialog,
.system-notification { 
    z-index: 9998; 
}

/* === 工具提示和懸浮幫助 (5000-5999) === */
.help-icon .tooltip,
.hover-tooltip { 
    z-index: 5000; 
}

/* === 通知和彈出消息 (3000-3999) === */
.inheritance-notification,
.toast-notification { 
    z-index: 3000; 
}

/* === 確保覆蓋層完全覆蓋 === */
[id*="Overlay"], 
[class*="overlay"], 
[class*="screen"] {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
}

/* === 特殊情況處理 === */

/* 確保模態對話框內的元素可點擊 */
.modal-content,
.overlay-content {
    position: relative;
    z-index: 1; /* 相對於父覆蓋層 */
}

/* 確保按鈕在覆蓋層中可點擊 */
.overlay-content button,
.modal-content button {
    position: relative;
    z-index: 2;
}

/* 防止背景元素干擾 */
.overlay-active .combat-arena,
.modal-active .combat-arena {
    pointer-events: none;
}

.overlay-active [id*="Overlay"],
.overlay-active [class*="overlay"] {
    pointer-events: auto;
}

/* === 調試輔助（開發時使用） === */
/*
.debug-z-index * {
    position: relative;
}

.debug-z-index *::before {
    content: attr(class) " (z:" attr(style) ")";
    position: absolute;
    top: 0;
    right: 0;
    background: rgba(255, 0, 0, 0.8);
    color: white;
    font-size: 10px;
    padding: 2px 4px;
    border-radius: 2px;
    z-index: 99999;
    pointer-events: none;
}
*/

/* === 備註說明 === */
/*
Z-Index 層級規劃：

0-99:     背景和基礎元素
100-199:  UI 面板和固定元素  
200-299:  控制面板
1000-1099: 遊戲內覆蓋層（暫停、升級等）
1500-1599: 戰鬥結果
2000-2999: 死亡畫面和重要決策
3000-3999: 通知和提示
5000-5999: 工具提示
9000-9999: 系統級別（載入、錯誤等）

這個系統確保：
1. 重要的系統消息總是在最上層
2. 用戶操作界面不會被意外遮擋
3. 遊戲內容和UI有清晰的層級關係
4. 便於維護和調試
*/